<app-modal-geral
    *ngIf="mensagensService.mostrarModal$ | async"
    (fecharModal)="mensagensService.fecharModal()"
    [mensagem]="mensagensService.mensagemModal$ | async">
</app-modal-geral>
<div class="header">
    <div class="blank"></div>
    <div class="titulo">Adiantamento De Vendas</div>
    <nav class="menu-header">
        <app-botao-tema></app-botao-tema>
        <app-botao-home (click)="home()"></app-botao-home>
    </nav>
</div>
<div class="pagina">
    <div class="contianer-pesquisa">
        <div class="pesquisa-produto">
            <app-input-pesquisar-filtro height="19px" placeholder="produtos" [itens]="listaProdutosDescricao" (pesquisar)="handleProdutoDescricaoPesquisado($event)" (itemSelecionadoChange)="produtoDescricaoPesquisado"></app-input-pesquisar-filtro>
        </div>
        <div class="pesquisa-numero-pedido">
            <app-input-pesquisar-filtro height="19px" placeholder="numero pedido" [itens]="listaNumeroPedido" (pesquisar)="handleNumeroPedidoPesquisado($event)" (itemSelecionadoChange)="numeroPedidoPesquisado"></app-input-pesquisar-filtro>
        </div>
        <div class="pesquisa-data-inclusao">
            <app-input type="date" height="2px" (valorChange)="handdleDataInclusaoPesquisado($event)"></app-input>
        </div>
        <div class="pesquisa-valor">
            <app-input-pesquisar-filtro type="number" height="19px" placeholder="valor" [itens]="listaValorVenda" (pesquisar)="handleValorVendaPesquisado($event)"></app-input-pesquisar-filtro>
        </div>
        <div class="menu-pesquisa">
            <div class="botoes-pesquisa">
                <app-botao texto="Mais filtros" height="16px"></app-botao>
            </div>
            <div class="botoes-pesquisa">
                <app-botao texto="Limpar filtros" height="16px" [botaoAtivo]="statusBotaoLimparFiltros"></app-botao>
            </div>
        </div>
    </div>
    <div class="header-tabela">
        <div class="menu-header-tabela">
            <div class="blank"></div>
            <mat-checkbox class="checkbox"></mat-checkbox>
        </div>
        <div class="numero-pedido">NUMERO PEDIDO</div>
        <div class="data-inclusao">DATA INCLUSÃO</div>
        <div class="previsao-faturamento">PREVISÃO FATURAMENTO</div>
        <div class="valor-venda">VALOR</div>
    </div>
    <div class="tabela">
        <ng-container *ngFor="let venda of listaVendasFiltrada">
            <div class="linha-tabela">
                <div class="menu-linha">
                    <app-botao-dropdown></app-botao-dropdown>
                    <mat-checkbox class="checkbox"></mat-checkbox>
                </div>
                <div class="numero-pedido">{{ venda.numeroPedido }}</div>
                <div class="data-inclusao">{{ venda.dataInclusao }}</div>
                <div class="previsao-faturamento">{{ venda.previsaoFaturamento }}</div>
                <div class="valor-venda">{{ venda.valorVenda }}</div>
            </div>
            <ng-container *ngIf="mostrarProdutos">
                <div class="container-header-dropdown-protudos">
                    <div class="header-dropdown-produtos">
                        <div class="descricao-produto">DESCRIÇÃO PRODUTOS</div>
                        <div class="valor-produto">VALOR</div>
                        <div class="unidade-medida">UNIDADE MEDIDA</div>
                    </div>
                </div>
                <div class="dropdown-produtos" *ngFor="let produto of venda.produtos">
                    <div class="linha-dropdown-produtos">
                        <div class="descricao-produto">{{ produto.descricaoProduto }}</div>
                        <div class="valor-produto">{{ produto.valorProduto }}</div>
                        <div class="unidade-medida">{{ produto.unidadeMedidaProduto }}</div>
                    </div>
                </div>
            </ng-container>
        </ng-container>
    </div>
    <div class="footer">
        <div class="botao-adiantar">
            <app-botao [background]="corBotaoAdicionar" [backgroundHover]="corBotaoAdicionarHover" texto="Adiantar"></app-botao>
        </div>
    </div>
</div>